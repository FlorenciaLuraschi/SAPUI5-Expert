<mvc:View
    controllerName="logali.sapui5n1.controller.InvoicesList"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
>
    <List id="invoicesList"
        headerText="{i18n>invoicesListTitle}"
        class="sapuiResponsiveMargin"
        width="auto"
        items="{invoices>/Invoices}"
    >
    <!-- al agregar el toolbar pierdo el titulo headerText por eso se debe volver a agregar -->
        <headerToolbar>
            <Toolbar>
            <Title text="{i18n>invoicesListTitle}"></Title>
                <ToolbarSpacer />
                <SearchField width="50%" search=".onFilterInvoices"/>
            </Toolbar>
        </headerToolbar>
        <items>
            <!-- title Estamos concatenando dos elementos de la lista -->
            <!-- number agregamos otra columna con los precios traidos desde el arch invoices.json y la moneda desde el controllador -->
            <!-- formatOptions permite dar formato con showMeasure en false saca el currency de la vista -->
            <!-- numberUnit es otra forma de mostrar la momenda (debajo del precio en un tamaño más pequeño) -->
            <ObjectListItem
                title="{invoices>Quantity} x {invoices>ProductName}"
                number="{parts : [{path:'invoices>ExtendedPrice'}, {path:'currency>/usd'}], 
                type:'sap.ui.model.type.Currency',
                formatOptions: {
                showMeasure: false
                }}"
                numberUnit="{currency>/usd}"
                numberState="{= ${invoices>ExtendedPrice} > 50 ? 'Success' : 'Error'}"
            >
                <firstStatus>
                    <ObjectStatus
                        text="{path: 'invoices>Status', formatter : '.formatter.invoicesStatus'}"
                    />
                </firstStatus>
            </ObjectListItem>
        </items>
    </List>
</mvc:View>
